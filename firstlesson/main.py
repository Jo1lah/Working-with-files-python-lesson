##1 Как базово читать файлы
# with open("data/notes.txt", "r", encoding="utf-8") as file:
#     content = file.read()
# print(content)

##2 Как базово читать файлы 2 способ
# with open("data/notes.txt", "r", encoding="utf-8") as file:
#     for i in file:
#         print(i.strip("-")

##3 Как базово изменять что то в файле
# with open("data/notes.txt", "a", encoding="utf-8") as file:
#     file.write("Ну например")
        
        
##4 Этот вариант не используем, устарел, нужен в качестве образца
# file = open("data/notes.txt", "r", encoding="utf-8")
# content = file.read()
# file.close()
# print(content)

##5
# with open("data/notes.txt", "w", encoding="utf-8") as file:
#     file.write("Новая запись 1")
#     file.write("Новая запись 2")


##6
# with open("data/notes.txt", "r", encoding="utf-8") as file:
#     for i in file:
#         clean_line = i.strip()
#         print(clean_line)



def load_notes_txt():  # объявляем функцию, которая загружает заметки из текстового файла и возвращает список
    notes = []  # создаём пустой список, сюда будем складывать заметки (строки)
    with open("data/notes.txt", "r", encoding="utf-8") as file:  # открываем файл для чтения ("r") в кодировке UTF-8; with сам закроет файл
        for i in file:  # перебираем файл построчно; i — очередная строка из файла (включая \n в конце)
            clean = i.strip()  # убираем пробелы по краям и символ перевода строки \n; получаем "чистую" строку
            if clean != "":  # проверяем, что строка не пустая (после очистки)
                notes.append(clean)  # добавляем непустую строку (заметку) в список notes
    return notes  # возвращаем список заметок вызывающему коду


def show_notes_txt(notes):  # объявляем функцию отображения заметок; принимает список notes
    if len(notes) == 0:  # если длина списка равна 0, значит заметок нет
        print("Заметок нет")  # выводим сообщение пользователю
        return  # выходим из функции, дальше выполнять нечего
    
    number = 1  # заводим счётчик для нумерации заметок (начинаем с 1, а не с 0)
    for i in notes:  # перебираем все заметки в списке; i — текущая заметка (строка)
        print(number, ".", i)  # печатаем номер, точку и текст заметки (например: 1 . Купить хлеб)
        number = number + 1  # увеличиваем номер на 1 для следующей заметки


def add_note_txt(notes):  # объявляем функцию добавления заметки; принимает список notes, чтобы добавить туда новый элемент
    text = input("Введите заметку: ").strip()  # просим пользователя ввести текст; strip() убирает пробелы по краям
    if text == "":  # если пользователь ничего не ввёл (или ввёл только пробелы)
        print("Пустую заметку нельзя добавить")  # сообщаем об ошибке
        return  # выходим из функции, не добавляя заметку
    notes.append(text)  # добавляем введённый текст как новую заметку в список
    print("Добавлено!")  # подтверждаем успешное добавление


def save_notes_txt(notes):  # объявляем функцию сохранения заметок в файл; принимает список notes
    with open("data/notes.txt", "w", encoding="utf-8") as file:  # открываем файл на перезапись ("w"); старое содержимое будет заменено
        for i in notes:  # перебираем заметки из списка
            file.write(i + "\n")  # записываем заметку и добавляем перевод строки, чтобы каждая заметка была с новой строки


notes = load_notes_txt()  # загружаем заметки из файла при старте программы; получаем список строк


while True:  # запускаем бесконечный цикл меню; будем выходить из него через break
    print("\n1. Показать")  # печатаем пункт меню 1 (с \n в начале, чтобы отделять меню пустой строкой)
    print("2. Добавить")  # печатаем пункт меню 2
    print("3. Сохранить")  # печатаем пункт меню 3
    print("0. Выход")  # печатаем пункт меню 0

    choice = input("Выбор: ")  # спрашиваем у пользователя выбор пункта меню (в виде строки)

    if choice == "1":  # если пользователь выбрал "1"
        show_notes_txt(notes)  # показываем все заметки из списка notes
    elif choice == "2":  # иначе, если пользователь выбрал "2"
        add_note_txt(notes)  # добавляем новую заметку в список notes
    elif choice == "3":  # иначе, если пользователь выбрал "3"
        save_notes_txt(notes)  # сохраняем текущий список notes в файл
    elif choice == "0":  # иначе, если пользователь выбрал "0"
        save_notes_txt(notes)  # перед выходом сохраняем заметки (чтобы ничего не потерять)
        print("Выход")  # выводим сообщение о выходе
        break  # выходим из бесконечного цикла while True и завершаем программу
    else:  # если введено что-то другое (не 1/2/3/0)
        print("Неверный выбор")  # сообщаем, что выбор некорректный
